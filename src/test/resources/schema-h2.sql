-- Schema for Usuario inheritance hierarchy
CREATE TABLE IF NOT EXISTS usuario (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username VARCHAR(100) NOT NULL UNIQUE,
    email VARCHAR(150) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    nombre VARCHAR(100) NOT NULL,
    telefono VARCHAR(20),
    fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    activo BOOLEAN DEFAULT TRUE,
    rol VARCHAR(50) NOT NULL
);

-- Schema for Paciente table (inherits from Usuario)
CREATE TABLE IF NOT EXISTS paciente (
    id INTEGER PRIMARY KEY,
    fecha_nacimiento DATE,
    sexo VARCHAR(10),
    altura DECIMAL(5,2),
    peso DECIMAL(5,2),
    objetivo VARCHAR(255),
    FOREIGN KEY (id) REFERENCES usuario(id)
);

-- Schema for Nutricionista table (inherits from Usuario)
CREATE TABLE IF NOT EXISTS nutricionista (
    id INTEGER PRIMARY KEY,
    numero_colegiado VARCHAR(50),
    especialidad VARCHAR(100),
    biografia TEXT,
    FOREIGN KEY (id) REFERENCES usuario(id)
);

-- Schema for Chat table
CREATE TABLE IF NOT EXISTS chat (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    paciente_id INTEGER NOT NULL,
    nutricionista_id INTEGER NOT NULL,
    fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    activo BOOLEAN DEFAULT TRUE,
    FOREIGN KEY (paciente_id) REFERENCES paciente(id),
    FOREIGN KEY (nutricionista_id) REFERENCES nutricionista(id)
);

-- Schema for Mensaje table
CREATE TABLE IF NOT EXISTS mensaje (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    chat_id INTEGER NOT NULL,
    emisor_id INTEGER NOT NULL,
    contenido TEXT NOT NULL,
    fecha_envio TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    leido BOOLEAN DEFAULT FALSE,
    FOREIGN KEY (chat_id) REFERENCES chat(id),
    FOREIGN KEY (emisor_id) REFERENCES usuario(id)
);

-- Schema for Plato base table (JPA JOINED inheritance)
CREATE TABLE IF NOT EXISTS plato (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nombre VARCHAR(255) NOT NULL,
    receta TEXT,
    proteinastotales DOUBLE DEFAULT 0.0,
    grasastotales DOUBLE DEFAULT 0.0,
    kcaltotales DOUBLE DEFAULT 0.0,
    hidratostotales DOUBLE DEFAULT 0.0,
    fibra DOUBLE DEFAULT 0.0,
    sal DOUBLE DEFAULT 0.0,
    azucar DOUBLE DEFAULT 0.0,
    colesterol DOUBLE DEFAULT 0.0,
    sodio DOUBLE DEFAULT 0.0,
    potasio DOUBLE DEFAULT 0.0,
    calcio DOUBLE DEFAULT 0.0,
    hierro DOUBLE DEFAULT 0.0,
    magnesio DOUBLE DEFAULT 0.0,
    fosforo DOUBLE DEFAULT 0.0,
    zinc DOUBLE DEFAULT 0.0,
    vitamina_a DOUBLE DEFAULT 0.0,
    vitamina_c DOUBLE DEFAULT 0.0,
    vitamina_d DOUBLE DEFAULT 0.0,
    vitamina_b6 DOUBLE DEFAULT 0.0,
    vitamina_b12 DOUBLE DEFAULT 0.0,
    vitamina_e DOUBLE DEFAULT 0.0,
    vitamina_k DOUBLE DEFAULT 0.0,
    tiamina DOUBLE DEFAULT 0.0,
    riboflavina DOUBLE DEFAULT 0.0,
    niacina DOUBLE DEFAULT 0.0,
    acfolico DOUBLE DEFAULT 0.0,
    pantotenico DOUBLE DEFAULT 0.0,
    biotina DOUBLE DEFAULT 0.0,
    vitamina_b12_2 DOUBLE DEFAULT 0.0,
    vitamina_c_2 DOUBLE DEFAULT 0.0,
    sodio_2 DOUBLE DEFAULT 0.0,
    potasio_2 DOUBLE DEFAULT 0.0,
    calcio_2 DOUBLE DEFAULT 0.0,
    hierro_2 DOUBLE DEFAULT 0.0,
    magnesio_2 DOUBLE DEFAULT 0.0,
    fosforo_2 DOUBLE DEFAULT 0.0,
    zinc_2 DOUBLE DEFAULT 0.0,
    vitamina_a_2 DOUBLE DEFAULT 0.0
);

-- Schema for PlatoPredeterminado table (inherits from Plato)
CREATE TABLE IF NOT EXISTS platopredeterminado (
    id INTEGER PRIMARY KEY,
    id_nutricionista INTEGER NOT NULL,
    FOREIGN KEY (id) REFERENCES plato(id),
    FOREIGN KEY (id_nutricionista) REFERENCES nutricionista(id)
);


-- =====================================================
-- COMPREHENSIVE TEST DATA FOR THUNDERFAT NUTRITION SYSTEM
-- Generated for Spring Boot 2025 with complete entity coverage
-- =====================================================

-- =====================================================
-- 1. ROLES - Foundation for user authentication
-- =====================================================
INSERT INTO rol (id, nombre) VALUES (1, 'NUTRICIONISTA');
INSERT INTO rol (id, nombre) VALUES (2, 'PACIENTE');
INSERT INTO rol (id, nombre) VALUES (3, 'ADMIN');

-- =====================================================
-- 2. USUARIOS - Base user entities with proper authentication
-- =====================================================
-- Password: 'password123' hashed with BCrypt
INSERT INTO usuario (id, email, psw, createtime, enabled) 
VALUES (1, 'dr.martinez@nutrihealth.com', '$2a$10$N.zmdr9k7uOCQb97.AtIaOGI7xAcZjj/fLrHm3VOKJWK.Hv2b7.ZG', CURRENT_TIMESTAMP, true);

INSERT INTO usuario (id, email, psw, createtime, enabled) 
VALUES (2, 'ana.garcia@email.com', '$2a$10$N.zmdr9k7uOCQb97.AtIaOGI7xAcZjj/fLrHm3VOKJWK.Hv2b7.ZG', CURRENT_TIMESTAMP, true);

INSERT INTO usuario (id, email, psw, createtime, enabled) 
VALUES (3, 'luis.rodriguez@email.com', '$2a$10$N.zmdr9k7uOCQb97.AtIaOGI7xAcZjj/fLrHm3VOKJWK.Hv2b7.ZG', CURRENT_TIMESTAMP, true);

INSERT INTO usuario (id, email, psw, createtime, enabled) 
VALUES (4, 'dra.lopez@nutrihealth.com', '$2a$10$N.zmdr9k7uOCQb97.AtIaOGI7xAcZjj/fLrHm3VOKJWK.Hv2b7.ZG', CURRENT_TIMESTAMP, true);

INSERT INTO usuario (id, email, psw, createtime, enabled) 
VALUES (5, 'maria.fernandez@email.com', '$2a$10$N.zmdr9k7uOCQb97.AtIaOGI7xAcZjj/fLrHm3VOKJWK.Hv2b7.ZG', CURRENT_TIMESTAMP, true);

-- Usuario roles associations
INSERT INTO usuario_roles (usuario_id, roles_id) VALUES (1, 1); -- Dr. Martinez - Nutricionista
INSERT INTO usuario_roles (usuario_id, roles_id) VALUES (2, 2); -- Ana - Paciente
INSERT INTO usuario_roles (usuario_id, roles_id) VALUES (3, 2); -- Luis - Paciente
INSERT INTO usuario_roles (usuario_id, roles_id) VALUES (4, 1); -- Dra. Lopez - Nutricionista
INSERT INTO usuario_roles (usuario_id, roles_id) VALUES (5, 2); -- Maria - Paciente

-- =====================================================
-- 3. NUTRICIONISTAS - Healthcare professionals
-- =====================================================
INSERT INTO nutricionista (id, nombre, apellidos, telefono, localidad, provincia, dni, direccion, numeroColegiadoProfesional) 
VALUES (1, 'Carlos', 'Martínez Ruiz', '654321987', 'Madrid', 'Madrid', '12345678A', 'Calle Gran Vía 28, 3ºB', 'MAD-2019-1234');

INSERT INTO nutricionista (id, nombre, apellidos, telefono, localidad, provincia, dni, direccion, numeroColegiadoProfesional) 
VALUES (4, 'Elena', 'López Sánchez', '698741523', 'Barcelona', 'Barcelona', '87654321B', 'Avda. Diagonal 435, 2ºA', 'BCN-2020-5678');

-- =====================================================
-- 4. PACIENTES - Nutrition management clients
-- =====================================================
INSERT INTO paciente (id, nombre, apellidos, fechanacimiento, direccion, localidad, codigopostal, provincia, dni, altura, telefono, sexo, id_nutricionista) 
VALUES (2, 'Ana', 'García Pérez', '1985-03-15', 'Calle Mayor 45', 'Madrid', '28013', 'Madrid', '23456789C', 165.0, '612345678', 'FEMENINO', 1);

INSERT INTO paciente (id, nombre, apellidos, fechanacimiento, direccion, localidad, codigopostal, provincia, dni, altura, telefono, sexo, id_nutricionista) 
VALUES (3, 'Luis', 'Rodríguez Gómez', '1990-07-22', 'Plaza España 12', 'Sevilla', '41013', 'Sevilla', '34567890D', 178.0, '623456789', 'MASCULINO', 1);

INSERT INTO paciente (id, nombre, apellidos, fechanacimiento, direccion, localidad, codigopostal, provincia, dni, altura, telefono, sexo, id_nutricionista) 
VALUES (5, 'María', 'Fernández Torres', '1992-11-08', 'Rambla Catalunya 89', 'Barcelona', '08007', 'Barcelona', '45678901E', 162.0, '634567890', 'FEMENINO', 4);

-- =====================================================
-- 5. ALIMENTOS - Comprehensive nutrition database
-- =====================================================
INSERT INTO alimento (id, nombre, estado, cal, hidratosdecarbono, h2o, ne, proteinas, grasas, fibra, calcio, hierro, yodo, magnesio, zinc, sodio, potasio, fosforo, selenio, tiamina, riboflavina, eq_niacina, ac_folico, vitb12, vitc, carotenos, vitd, vite, vitk) 
VALUES (1, 'Pollo pechuga sin piel', 'Crudo', 165.0, 0.0, 75.0, 0.0, 31.0, 3.6, 0.0, 15.0, 1.0, 11.0, 25.0, 1.0, 64.0, 256.0, 220.0, 14.5, 0.07, 0.18, 11.0, 9.0, 0.35, 0.0, 0.0, 0.0, 0.27, 0.0);

INSERT INTO alimento (id, nombre, estado, cal, hidratosdecarbono, h2o, ne, proteinas, grasas, fibra, calcio, hierro, yodo, magnesio, zinc, sodio, potasio, fosforo, selenio, tiamina, riboflavina, eq_niacina, ac_folico, vitb12, vitc, carotenos, vitd, vite, vitk) 
VALUES (2, 'Arroz blanco', 'Cocido', 130.0, 28.0, 68.0, 0.0, 2.7, 0.3, 0.4, 10.0, 0.8, 1.4, 25.0, 1.1, 5.0, 35.0, 43.0, 15.1, 0.07, 0.02, 1.6, 8.0, 0.0, 0.0, 0.0, 0.0, 0.11, 0.0);

INSERT INTO alimento (id, nombre, estado, cal, hidratosdecarbono, h2o, ne, proteinas, grasas, fibra, calcio, hierro, yodo, magnesio, zinc, sodio, potasio, fosforo, selenio, tiamina, riboflavina, eq_niacina, ac_folico, vitb12, vitc, carotenos, vitd, vite, vitk) 
VALUES (3, 'Brócoli', 'Crudo', 34.0, 7.0, 89.0, 0.0, 2.8, 0.4, 2.6, 47.0, 0.7, 15.0, 21.0, 0.4, 33.0, 316.0, 66.0, 2.5, 0.07, 0.12, 0.6, 63.0, 0.0, 89.2, 361.0, 0.0, 0.78, 101.6);

INSERT INTO alimento (id, nombre, estado, cal, hidratosdecarbono, h2o, ne, proteinas, grasas, fibra, calcio, hierro, yodo, magnesio, zinc, sodio, potasio, fosforo, selenio, tiamina, riboflavina, eq_niacina, ac_folico, vitb12, vitc, carotenos, vitd, vite, vitk) 
VALUES (4, 'Salmón', 'Crudo', 208.0, 0.0, 69.0, 0.0, 25.0, 12.0, 0.0, 12.0, 0.8, 8.0, 29.0, 0.6, 59.0, 363.0, 272.0, 36.5, 0.23, 0.38, 8.1, 25.0, 3.18, 0.0, 13.0, 11.0, 1.22, 0.1);

INSERT INTO alimento (id, nombre, estado, cal, hidratosdecarbono, h2o, ne, proteinas, grasas, fibra, calcio, hierro, yodo, magnesio, zinc, sodio, potasio, fosforo, selenio, tiamina, riboflavina, eq_niacina, ac_folico, vitb12, vitc, carotenos, vitd, vite, vitk) 
VALUES (5, 'Aguacate', 'Crudo', 160.0, 9.0, 73.0, 0.0, 2.0, 15.0, 7.0, 12.0, 0.6, 3.0, 29.0, 0.6, 7.0, 485.0, 52.0, 0.4, 0.07, 0.13, 1.7, 20.0, 0.0, 10.0, 62.0, 0.0, 2.07, 21.0);

INSERT INTO alimento (id, nombre, estado, cal, hidratosdecarbono, h2o, ne, proteinas, grasas, fibra, calcio, hierro, yodo, magnesio, zinc, sodio, potasio, fosforo, selenio, tiamina, riboflavina, eq_niacina, ac_folico, vitb12, vitc, carotenos, vitd, vite, vitk) 
VALUES (6, 'Quinoa', 'Cocida', 120.0, 22.0, 72.0, 0.0, 4.4, 1.9, 2.8, 17.0, 1.5, 0.0, 64.0, 1.1, 7.0, 172.0, 152.0, 2.8, 0.11, 0.11, 0.4, 42.0, 0.0, 0.0, 1.0, 0.0, 0.63, 0.0);

INSERT INTO alimento (id, nombre, estado, cal, hidratosdecarbono, h2o, ne, proteinas, grasas, fibra, calcio, hierro, yodo, magnesio, zinc, sodio, potasio, fosforo, selenio, tiamina, riboflavina, eq_niacina, ac_folico, vitb12, vitc, carotenos, vitd, vite, vitk) 
VALUES (7, 'Espinacas', 'Crudas', 23.0, 3.6, 91.4, 0.0, 2.9, 0.4, 2.2, 99.0, 2.7, 12.0, 79.0, 0.5, 79.0, 558.0, 49.0, 1.0, 0.08, 0.19, 0.7, 194.0, 0.0, 28.1, 469.0, 0.0, 2.03, 483.0);

INSERT INTO alimento (id, nombre, estado, cal, hidratosdecarbono, h2o, ne, proteinas, grasas, fibra, calcio, hierro, yodo, magnesio, zinc, sodio, potasio, fosforo, selenio, tiamina, riboflavina, eq_niacina, ac_folico, vitb12, vitc, carotenos, vitd, vite, vitk) 
VALUES (8, 'Aceite de oliva virgen extra', 'Crudo', 884.0, 0.0, 0.0, 0.0, 0.0, 100.0, 0.0, 2.0, 0.6, 0.0, 0.0, 0.0, 2.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 4.0, 0.0, 14.0, 60.2);

INSERT INTO alimento (id, nombre, estado, cal, hidratosdecarbono, h2o, ne, proteinas, grasas, fibra, calcio, hierro, yodo, magnesio, zinc, sodio, potasio, fosforo, selenio, tiamina, riboflavina, eq_niacina, ac_folico, vitb12, vitc, carotenos, vitd, vite, vitk) 
VALUES (9, 'Tomate', 'Crudo', 18.0, 3.9, 94.5, 0.0, 0.9, 0.2, 1.4, 10.0, 0.3, 2.0, 11.0, 0.2, 5.0, 237.0, 24.0, 0.0, 0.04, 0.02, 0.6, 15.0, 0.0, 12.7, 449.0, 0.0, 0.54, 7.9);

INSERT INTO alimento (id, nombre, estado, cal, hidratosdecarbono, h2o, ne, proteinas, grasas, fibra, calcio, hierro, yodo, magnesio, zinc, sodio, potasio, fosforo, selenio, tiamina, riboflavina, eq_niacina, ac_folico, vitb12, vitc, carotenos, vitd, vite, vitk) 
VALUES (10, 'Huevos', 'Crudo', 155.0, 0.7, 76.0, 0.0, 12.6, 11.1, 0.0, 56.0, 1.8, 12.0, 12.0, 1.3, 140.0, 138.0, 198.0, 31.7, 0.04, 0.44, 0.1, 47.0, 2.1, 0.0, 0.0, 2.0, 1.05, 0.3);

-- =====================================================
-- 6. FILTROS ALIMENTARIOS - Dietary restrictions and preferences
-- =====================================================
INSERT INTO filtroalimentario (id, nombre, descripcion) 
VALUES (1, 'Sin Gluten', 'Alimentos libres de gluten para personas con celiaquía');

INSERT INTO filtroalimentario (id, nombre, descripcion) 
VALUES (2, 'Vegetariano', 'Dieta que excluye carne y pescado');

INSERT INTO filtroalimentario (id, nombre, descripcion) 
VALUES (3, 'Vegano', 'Dieta que excluye todos los productos de origen animal');

INSERT INTO filtroalimentario (id, nombre, descripcion) 
VALUES (4, 'Bajo en Sodio', 'Dieta reducida en sodio para hipertensión');

INSERT INTO filtroalimentario (id, nombre, descripcion) 
VALUES (5, 'Diabético', 'Dieta controlada en carbohidratos para diabetes');

-- =====================================================
-- 7. PLATOS - Recipe database
-- =====================================================
INSERT INTO plato (id, nombre, receta, kcaltotales, proteinastotales, grasastotales, hidratostotales) 
VALUES (1, 'Ensalada Mediterránea', 'Ensalada fresca con aceite de oliva virgen extra, tomate, espinacas y aguacate. Mezclar todos los ingredientes y aliñar al gusto.', 245.5, 4.2, 18.7, 16.5);

INSERT INTO plato (id, nombre, receta, kcaltotales, proteinastotales, grasastotales, hidratostotales) 
VALUES (2, 'Pollo a la Plancha con Brócoli', 'Pechuga de pollo a la plancha con brócoli al vapor. Cocinar el pollo hasta dorar y el brócoli al vapor 5 minutos.', 199.0, 33.8, 4.0, 7.0);

INSERT INTO plato (id, nombre, receta, kcaltotales, proteinastotales, grasastotales, hidratostotales) 
VALUES (3, 'Salmón con Quinoa', 'Salmón al horno con quinoa cocida y espinacas. Hornear el salmón 15 min a 180°C.', 351.0, 32.3, 15.3, 25.6);

INSERT INTO plato (id, nombre, receta, kcaltotales, proteinastotales, grasastotales, hidratostotales) 
VALUES (4, 'Tortilla de Huevo con Espinacas', 'Tortilla francesa con espinacas frescas salteadas. Batir huevos, añadir espinacas y cocinar a fuego medio.', 178.0, 15.5, 11.5, 3.3);

INSERT INTO plato (id, nombre, receta, kcaltotales, proteinastotales, grasastotales, hidratostotales) 
VALUES (5, 'Arroz Integral con Verduras', 'Arroz integral salteado con brócoli, tomate y aceite de oliva. Saltear las verduras y mezclar con arroz cocido.', 165.0, 5.5, 4.9, 31.5);

-- =====================================================
-- 8. PLATOS PREDETERMINADOS - Nutritionist recipe templates
-- =====================================================
INSERT INTO platopredeterminado (id, id_nutricionista) 
VALUES (1, 1);

INSERT INTO platopredeterminado (id, id_nutricionista) 
VALUES (2, 1);

INSERT INTO platopredeterminado (id, id_nutricionista) 
VALUES (3, 4);

INSERT INTO platopredeterminado (id, id_nutricionista) 
VALUES (4, 1);

INSERT INTO platopredeterminado (id, id_nutricionista) 
VALUES (5, 4);

-- =====================================================
-- 9. PLANES DE DIETA - Diet plan management
-- =====================================================
INSERT INTO plandieta (id, id_paciente, id_nutricionista, fechaini, fechafin, calrangomin, calrangomax, ingestacaldiaria, repartoglucidodiario, repartolipidodiario, repartoprotidodiario, comidasdiarias, visible, intercambiable, filtro) 
VALUES (1, 2, 1, '2025-09-01', '2025-10-01', 1400.0, 1600.0, 1500.0, 225.0, 50.0, 112.5, 5, 1, 1, 1);

INSERT INTO plandieta (id, id_paciente, id_nutricionista, fechaini, fechafin, calrangomin, calrangomax, ingestacaldiaria, repartoglucidodiario, repartolipidodiario, repartoprotidodiario, comidasdiarias, visible, intercambiable, filtro) 
VALUES (2, 3, 1, '2025-09-10', '2025-10-10', 1800.0, 2200.0, 2000.0, 300.0, 66.0, 150.0, 5, 1, 1, NULL);

INSERT INTO plandieta (id, id_paciente, id_nutricionista, fechaini, fechafin, calrangomin, calrangomax, ingestacaldiaria, repartoglucidodiario, repartolipidodiario, repartoprotidodiario, comidasdiarias, visible, intercambiable, filtro) 
VALUES (3, 5, 4, '2025-09-15', '2025-10-15', 1300.0, 1500.0, 1400.0, 210.0, 46.0, 105.0, 4, 1, 0, 2);

-- =====================================================
-- 10. DÍAS DE DIETA - Daily meal planning
-- =====================================================
INSERT INTO diadieta (id, fecha) 
VALUES (1, '2025-09-16');

INSERT INTO diadieta (id, fecha) 
VALUES (2, '2025-09-17');

INSERT INTO diadieta (id, fecha) 
VALUES (3, '2025-09-18');

INSERT INTO diadieta (id, fecha) 
VALUES (4, '2025-09-16');

INSERT INTO diadieta (id, fecha) 
VALUES (5, '2025-09-17');

-- =====================================================
-- 11. PLATOS PLAN DIETA - Portion control and meal planning
-- =====================================================
INSERT INTO platoplandieta (id, cantidad, plato_id, plandieta_id) 
VALUES (1, 150.0, 1, 1);

INSERT INTO platoplandieta (id, cantidad, plato_id, plandieta_id) 
VALUES (2, 200.0, 2, 1);

INSERT INTO platoplandieta (id, cantidad, plato_id, plandieta_id) 
VALUES (3, 250.0, 3, 2);

INSERT INTO platoplandieta (id, cantidad, plato_id, plandieta_id) 
VALUES (4, 180.0, 4, 3);

INSERT INTO platoplandieta (id, cantidad, plato_id, plandieta_id) 
VALUES (5, 200.0, 5, 3);

-- =====================================================
-- 12. COMIDAS - Individual meals within daily plans
-- =====================================================
INSERT INTO comidas (id, hora, valoracion) 
VALUES (1, '08:00:00', 5);

INSERT INTO comidas (id, hora, valoracion) 
VALUES (2, '14:00:00', 4);

INSERT INTO comidas (id, hora, valoracion) 
VALUES (3, '20:30:00', 5);

INSERT INTO comidas (id, hora, valoracion) 
VALUES (4, '10:30:00', 3);

INSERT INTO comidas (id, hora, valoracion) 
VALUES (5, '16:00:00', 4);

-- =====================================================
-- 13. CITAS - Appointment scheduling
-- =====================================================
INSERT INTO cita (id, fechaini, fechafin, id_paciente, id_nutricionista) 
VALUES (1, '2025-09-20 09:00:00', '2025-09-20 10:00:00', 2, 1);

INSERT INTO cita (id, fechaini, fechafin, id_paciente, id_nutricionista) 
VALUES (2, '2025-09-22 11:00:00', '2025-09-22 12:00:00', 3, 1);

INSERT INTO cita (id, fechaini, fechafin, id_paciente, id_nutricionista) 
VALUES (3, '2025-09-21 15:30:00', '2025-09-21 16:30:00', 5, 4);

INSERT INTO cita (id, fechaini, fechafin, id_paciente, id_nutricionista) 
VALUES (4, '2025-09-25 10:00:00', '2025-09-25 11:00:00', 2, 1);

INSERT INTO cita (id, fechaini, fechafin, id_paciente, id_nutricionista) 
VALUES (5, '2025-09-27 16:00:00', '2025-09-27 17:00:00', 3, 1);

-- =====================================================
-- 14. MEDICIONES SEGMENTALES - Body composition tracking
-- =====================================================
INSERT INTO medicion_segmental (id, id_paciente, fecha, bdporcentajegrasas, bdmusculo, bimusculo, piporcentajegrasas, pdmusculo, pdporcentajegrasas) 
VALUES (1, 2, '2025-09-01', 18.5, 2.1, 2.8, 16.2, 8.5, 15.8);

INSERT INTO medicion_segmental (id, id_paciente, fecha, bdporcentajegrasas, bdmusculo, bimusculo, piporcentajegrasas, pdmusculo, pdporcentajegrasas) 
VALUES (2, 3, '2025-09-05', 12.3, 3.2, 4.1, 11.8, 12.5, 10.9);

INSERT INTO medicion_segmental (id, id_paciente, fecha, bdporcentajegrasas, bdmusculo, bimusculo, piporcentajegrasas, pdmusculo, pdporcentajegrasas) 
VALUES (3, 5, '2025-09-10', 22.1, 1.8, 2.1, 20.5, 6.2, 19.8);

-- =====================================================
-- 15. ANTECEDENTES CLÍNICOS - Medical history tracking
-- =====================================================
INSERT INTO antecedentesclinicos (id, fecha, antecedente, observacion, descripcion, condicion, paciente_id) 
VALUES (1, '2025-08-15', 'Hipertensión', 'Controlada con medicación', 'Hipertensión arterial diagnosticada en 2020', 'Estable', 2);

INSERT INTO antecedentesclinicos (id, fecha, antecedente, observacion, descripcion, condicion, paciente_id) 
VALUES (2, '2025-08-20', 'Diabetes Tipo 2', 'Inicio reciente de tratamiento', 'Diabetes diagnosticada recientemente', 'En tratamiento', 3);

INSERT INTO antecedentesclinicos (id, fecha, antecedente, observacion, descripcion, condicion, paciente_id) 
VALUES (3, '2025-08-25', 'Intolerancia Lactosa', 'Evita productos lácteos', 'Intolerancia confirmada por test', 'Controlada', 5);

-- =====================================================
-- 16. TRATAMIENTOS - Treatment history
-- =====================================================
INSERT INTO antecedente_tratamiento (id, fecha, tratamiento, observacion, descripcion, condicion, id_paciente) 
VALUES (1, '2025-08-15', 'Enalapril 10mg', 'Una vez al día en ayunas', 'Tratamiento para hipertensión arterial', 'Activo', 2);

INSERT INTO antecedente_tratamiento (id, fecha, tratamiento, observacion, descripcion, condicion, id_paciente) 
VALUES (2, '2025-08-20', 'Metformina 850mg', 'Dos veces al día con comidas', 'Tratamiento inicial para diabetes tipo 2', 'Activo', 3);

INSERT INTO antecedente_tratamiento (id, fecha, tratamiento, observacion, descripcion, condicion, id_paciente) 
VALUES (3, '2025-07-10', 'Suplemento Omega-3', 'Una cápsula diaria', 'Suplementación para salud cardiovascular', 'Completado', 5);

-- =====================================================
-- 17. MEDICIONES GENERALES - General health measurements
-- =====================================================
INSERT INTO medicion_general (id, id_paciente, fecha, peso, grasacorporal, grasavisceral, musculo, masaosea, kcaldiarias, edadmetabolica, h2ocorporal) 
VALUES (1, 2, '2025-09-01', 68.5, 18.2, 6, 48.2, 2.1, 1450, 28, 58.5);

INSERT INTO medicion_general (id, id_paciente, fecha, peso, grasacorporal, grasavisceral, musculo, masaosea, kcaldiarias, edadmetabolica, h2ocorporal) 
VALUES (2, 3, '2025-09-05', 82.1, 12.8, 4, 64.5, 3.8, 1950, 25, 62.1);

INSERT INTO medicion_general (id, id_paciente, fecha, peso, grasacorporal, grasavisceral, musculo, masaosea, kcaldiarias, edadmetabolica, h2ocorporal) 
VALUES (3, 5, '2025-09-10', 58.3, 21.5, 7, 42.1, 1.7, 1320, 35, 55.2);

-- Recent follow-up measurements
INSERT INTO medicion_general (id, id_paciente, fecha, peso, grasacorporal, grasavisceral, musculo, masaosea, kcaldiarias, edadmetabolica, h2ocorporal) 
VALUES (4, 2, '2025-09-15', 67.8, 17.8, 5, 48.9, 2.1, 1465, 27, 59.1);

INSERT INTO medicion_general (id, id_paciente, fecha, peso, grasacorporal, grasavisceral, musculo, masaosea, kcaldiarias, edadmetabolica, h2ocorporal) 
VALUES (5, 3, '2025-09-14', 81.5, 12.3, 3, 65.2, 3.8, 1975, 24, 62.8);

-- =====================================================
-- 18. MEDICIONES ESPECÍFICAS - Specialized measurements
-- =====================================================
INSERT INTO medicion_especifica (id, id_paciente, fecha, tipomuscular, grasacorporaltotal, edadcorporal, imc, tmb, pesograsa, pesomuscular, h2ocorporaltotal, densidadosea, valorproteinascorporales) 
VALUES (1, 2, '2025-09-01', 'Mesomorfo', 18.2, 32, 25.2, 1385, 12.5, 48.2, 40.2, 108, 14.8);

INSERT INTO medicion_especifica (id, id_paciente, fecha, tipomuscular, grasacorporaltotal, edadcorporal, imc, tmb, pesograsa, pesomuscular, h2ocorporaltotal, densidadosea, valorproteinascorporales) 
VALUES (2, 3, '2025-09-05', 'Atlético', 12.8, 27, 25.9, 1825, 10.5, 64.5, 51.0, 125, 18.2);

INSERT INTO medicion_especifica (id, id_paciente, fecha, tipomuscular, grasacorporaltotal, edadcorporal, imc, tmb, pesograsa, pesomuscular, h2ocorporaltotal, densidadosea, valorproteinascorporales) 
VALUES (3, 5, '2025-09-10', 'Ectomorfo', 21.5, 38, 22.2, 1285, 12.5, 42.1, 32.1, 95, 12.3);

-- =====================================================
-- 19. CHAT SYSTEM - Real-time communication
-- =====================================================
INSERT INTO chat (id, fecha_creacion, activo, nutricionista_id, paciente_id) 
VALUES (1, '2025-09-01 10:00:00', true, 1, 2);

INSERT INTO chat (id, fecha_creacion, activo, nutricionista_id, paciente_id) 
VALUES (2, '2025-09-05 14:30:00', true, 1, 3);

INSERT INTO chat (id, fecha_creacion, activo, nutricionista_id, paciente_id) 
VALUES (3, '2025-09-10 09:15:00', true, 4, 5);

-- =====================================================
-- 20. MENSAJES - Chat messages
-- =====================================================
INSERT INTO mensaje (id, contenido, fecha_envio, enviado_por, chat_id) 
VALUES (1, 'Hola Ana, ¿cómo te sientes con la nueva dieta?', '2025-09-16 09:00:00', 'NUTRICIONISTA', 1);

INSERT INTO mensaje (id, contenido, fecha_envio, enviado_por, chat_id) 
VALUES (2, 'Buenos días Dr. Martínez, me siento muy bien. He notado más energía.', '2025-09-16 09:15:00', 'PACIENTE', 1);

INSERT INTO mensaje (id, contenido, fecha_envio, enviado_por, chat_id) 
VALUES (3, 'Excelente, ¿has tenido alguna dificultad con las recetas?', '2025-09-16 09:20:00', 'NUTRICIONISTA', 1);

INSERT INTO mensaje (id, contenido, fecha_envio, enviado_por, chat_id) 
VALUES (4, 'Hola Luis, ¿cómo van los niveles de glucosa?', '2025-09-14 11:00:00', 'NUTRICIONISTA', 2);

INSERT INTO mensaje (id, contenido, fecha_envio, enviado_por, chat_id) 
VALUES (5, 'Buenos días, los niveles están más estables. La dieta está funcionando bien.', '2025-09-14 11:30:00', 'PACIENTE', 2);

INSERT INTO mensaje (id, contenido, fecha_envio, enviado_por, chat_id) 
VALUES (6, 'Hola María, ¿cómo te va con las opciones vegetarianas?', '2025-09-15 16:00:00', 'NUTRICIONISTA', 3);

INSERT INTO mensaje (id, contenido, fecha_envio, enviado_por, chat_id) 
VALUES (7, 'Muy bien Dra. López, me encantan las recetas nuevas.', '2025-09-15 16:45:00', 'PACIENTE', 3);

-- =====================================================
-- DATA VALIDATION COMPLETED
-- All entities populated with realistic healthcare data
-- Relationships properly maintained for API testing
-- =====================================================
